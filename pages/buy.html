<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pasarela de Pagos</title>
    <link rel="stylesheet" href="../assets/styles/styles_buy.css"> <!-- Enlaza el archivo CSS -->
    <!-- Quitar o comentar mientras no tengas client-id real -->
    <!-- <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID"></script> -->
    <script src="https://js.stripe.com/v3/"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="../assets/styles/styles_menu.css">
    <link rel="stylesheet" href="../assets/styles/user-menu.css">
    <link rel="stylesheet" href="../assets/styles/footer.css">
    <link rel="stylesheet" href="../assets/styles/toast.css">
    <link rel="stylesheet" href="../assets/styles/sesion.css">
    <link rel="icon" type="image/x-icon" href="../assets/img/granos-de-cafe.png">


</head>

<body>
    <nav class="encabezado">
        <a href="/" class="home">Kopi</a>
        <div class="btnMenu">
            <div class="linea"></div>
            <a href="menu.html">
                <p class="menu-text">MENU</p>
            </a>
            <div class="linea"></div>
        </div>
        <div class="btnFindKopi">
            <span class="material-symbols-outlined">location_on</span>
            <a href="find_kopy.html">
                <p>Encuentra tu kopi</p>
            </a>
        </div>
        <div type="submit" class="btnLogin" id="btnLogin" onclick="openPopup()">Entrar</div>

        <div class="btnRegister" id="btnregister">
            <a href="login.html?show=register">
                <p>Registrate</p>
            </a>
        </div>
        <div class="usuario" id="usuario" style="display: none;">
            <a href="#" onclick="toggleUserMenu(event)">
                <div class="user-icon"><span class="material-symbols-outlined person" id="person">
                        person
                    </span></div>
                <p id="nombreUsuario">Usuario</p>
            </a>
        </div>
        <span class="material-symbols-outlined" id="shopping_cart">shopping_cart</span>
    </nav>

    <!-- Inicio bloque izquierdo -->
    <div class="container">
        <!-- Resumen del pedido -->
        <div class="order-summary">
            <h2 id="og">Resumen del pedido</h2>

            <!-- Contenedor con scroll -->
            <div class="products-scroll" id="products-container">
                <!-- Y agrega tambi茅n este div que busca carrito_script.js -->
                <!-- Contenedor que busca carrito_script.js -->
                <div id="cart-container" style="display: none;"></div>
                <div class="product-details">
                    <img src="../assets/img/buy/borrar-removebg-preview.png" alt="cono del producto"
                        class="product-icon">
                    <div class="product-info">
                        <p><strong>Product:</strong></p>
                        <p>Kopi-Organico</p>
                        <p>Qty: 2</p>
                        <p>Eliminar Guardar para mas tarde Ver productos similares Compartir</p>
                    </div>
                    <p class="price">$49.80</p>
                </div>

                <div class="product-details">
                    <img src="../assets/img/buy/borrar-removebg-preview.png" alt="cono del producto"
                        class="product-icon">
                    <div class="product-info">
                        <p><strong>Product:</strong></p>
                        <p>Kopi-Organico</p>
                        <p>Qty: 4</p>
                    </div>
                    <p class="price">$155.82</p>
                </div>

                <div class="product-details">
                    <img src="../assets/img/buy/borrar-removebg-preview.png" alt="cono del producto"
                        class="product-icon">
                    <div class="product-info">
                        <p><strong>Product:</strong></p>
                        <p>Kopi-Organico</p>
                        <p>Qty: 7</p>
                    </div>
                    <p class="price">$51.87</p>
                </div>

                <div class="product-details">
                    <img src="../assets/img/buy/borrar-removebg-preview.png" alt="cono del producto"
                        class="product-icon">
                    <div class="product-info">
                        <p><strong>Product:</strong></p>
                        <p>Kopi-Organico</p>
                        <p>Qty: 3</p>
                    </div>
                    <p class="price">$21.87</p>
                </div>

                <div class="product-details">
                    <img src="../assets/img/buy/borrar-removebg-preview.png" alt="cono del producto"
                        class="product-icon">
                    <div class="product-info">
                        <p><strong>Product:</strong></p>
                        <p>Kopi-Organico</p>
                        <p>Qty: 1</p>
                    </div>
                    <p class="price">$64.98</p>
                </div>
            </div>

            <!-- Resumen de precios -->
            <div class="price-summary">
                <p>Subtotal: $188</p>
                <p>Impuestos Online: $10</p>
                <h3>Total: $198</h3>
            </div>
        </div>
        <!-- Fin bloque izquierdo -->

        <!-- Inicio bloque derecho -->
        <div class="right-side">
            <!-- Secci贸n de Direcci贸n y Tipo de Entrega -->
            <div class="delivery-section">
                <h2>Direcci贸n de Entrega</h2>

                <!-- Selector de Tipo de Entrega -->
                <div class="delivery-type">
                    <div class="delivery-option">
                        <input type="radio" id="pickup" name="delivery_type" value="pickup">
                        <label for="pickup">
                            <span class="delivery-icon"></span>
                            <div>
                                <strong>Recoger en tienda</strong>
                                <p>Listo en 15-20 min</p>
                            </div>
                        </label>
                    </div>

                    <div class="delivery-option">
                        <input type="radio" id="delivery" name="delivery_type" value="delivery" checked>
                        <label for="delivery">
                            <span class="delivery-icon"></span>
                            <div>
                                <strong>Delivery</strong>
                                <p>Entrega en 30-45 min</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Secci贸n de Direcciones (solo visible si se selecciona delivery) -->
                <div class="address-section" id="addressSection">
                    <h3>Selecciona una direcci贸n</h3>

                    <!-- Lista de direcciones guardadas -->
                    <div class="saved-addresses" id="savedAddresses">
                        <!-- Se llenar谩n din谩micamente desde JavaScript -->
                    </div>

                    <!-- Bot贸n para agregar nueva direcci贸n -->
                    <button type="button" class="add-address-btn" onclick="openAddressPopup()">
                        <span>+</span> Agregar nueva direcci贸n
                    </button>
                </div>
            </div>

            <!-- Detalles de pago -->
            <div class="payment-details">
                <h2>Detalles de Pago</h2>
                <div id="gt">
                    <form action="../php/registro.php" method="POST">

                        <!-- Grupo para Country y Zip Code -->
                        <div class="input-group">
                            <div>
                                <label for="country">Pais</label>
                                <select id="country" name="country">
                                    <option>M茅xico</option>
                                    <option>USA</option>
                                    <option>Colombia</option>
                                </select>
                            </div>

                            <div id="gg">
                                <label for="zip">Codigo Postal</label>
                                <input type="text" id="zip" required name="zip">
                            </div>
                        </div>

                        <!-- Campos restantes del formulario -->
                        <label for="card-name">Titular</label>
                        <input type="text" id="card-name" required name="titular">

                        <label for="card-number">Numero de tarjeta</label>
                        <input type="text" id="card-number" required name="numeroDeTarjeta">

                        <!-- Grupo para Expiration Date y CVC/CVV -->
                        <div class="input-group">
                            <div>
                                <label for="exp-date">Expiracion</label>
                                <input type="text" id="exp-date" class="narrow-input" required name="expiracion">
                            </div>
                            <div>
                                <label for="cvc">CVC/CVV</label>
                                <input type="text" id="cvc" required name="cvc">
                            </div>
                        </div>

                        <!-- Bot贸n de pago -->
                        <button type="submit">Pagar</button>
                    </form>
                </div>
                <!-- M茅todos de pago r谩pido -->
                <div class="fast-pay">
                    <div id="paypal-button-container"></div>
                    <div class="a1">
                        <button class="apple-pay-button" id="applePayBtn" type="button">
                            <i class="fab fa-apple-pay"></i>
                        </button>
                    </div>
                    <div class="a2">
                        <button class="paypal-button" id="paypalBtn" type="button">
                            <img src="https://www.paypalobjects.com/webstatic/icon/pp258.png" alt="PayPal"
                                style="height: 24px;" />
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin bloque derecho -->
    </div>

    <!-- Popup para Agregar Nueva Direcci贸n -->
    <div class="address-popup-overlay" id="addressPopupOverlay" onclick="closeAddressPopup()"></div>
    <div class="address-popup" id="addressPopup">
        <div class="address-popup-header">
            <h3>Agregar Nueva Direcci贸n</h3>
            <span class="address-popup-close" onclick="closeAddressPopup()">&times;</span>
        </div>

        <form id="addressForm" class="address-form">
            <div class="address-input-group">
                <div>
                    <label for="address_alias">Alias (Casa, Trabajo, etc.)</label>
                    <input type="text" id="address_alias" name="alias" placeholder="Ej: Casa">
                </div>
            </div>

            <div class="address-input-group">
                <div>
                    <label for="address_calle">Calle</label>
                    <input type="text" id="address_calle" name="calle" placeholder="Nombre de la calle" required>
                </div>
            </div>

            <div class="address-input-group">
                <div>
                    <label for="address_numero_ext">N煤mero Exterior</label>
                    <input type="text" id="address_numero_ext" name="numero_exterior" placeholder="123" required>
                </div>
                <div>
                    <label for="address_numero_int">N煤mero Interior</label>
                    <input type="text" id="address_numero_int" name="numero_interior" placeholder="Depto 4B (opcional)">
                </div>
            </div>

            <div class="address-input-group">
                <div>
                    <label for="address_colonia">Colonia</label>
                    <input type="text" id="address_colonia" name="colonia" placeholder="Roma Norte" required>
                </div>
                <div>
                    <label for="address_cp">C贸digo Postal</label>
                    <input type="text" id="address_cp" name="codigo_postal" placeholder="06700" required>
                </div>
            </div>

            <div class="address-input-group">
                <div>
                    <label for="address_ciudad">Ciudad</label>
                    <input type="text" id="address_ciudad" name="ciudad" placeholder="Ciudad de M茅xico" required>
                </div>
                <div>
                    <label for="address_estado">Estado</label>
                    <input type="text" id="address_estado" name="estado" placeholder="CDMX" required>
                </div>
            </div>

            <div class="address-input-group">
                <div>
                    <label for="address_referencias">Referencias</label>
                    <textarea id="address_referencias" name="referencias"
                        placeholder="Edificio color azul, port贸n negro..." rows="3"></textarea>
                </div>
            </div>

            <div class="address-checkbox">
                <input type="checkbox" id="address_principal" name="es_principal">
                <label for="address_principal">Establecer como direcci贸n principal</label>
            </div>

            <div class="address-form-buttons">
                <button type="button" onclick="closeAddressPopup()" class="cancel-btn">Cancelar</button>
                <button type="submit" class="save-btn">Guardar Direcci贸n</button>
            </div>
        </form>
    </div>

    <!-- COPIAR EN LOS DEMAS DE AQUI PA ABAJO-->
    <div class="popup-overlay" id="overlay" onclick="closePopup()"></div>
    <div class="popup" id="popup">
        <h1 class="Login" id="title-login">Inicia Sesi贸n</h1>
        <a href="/pages/login.html?show=register" class="text_count">驴No tienes una cuenta?</a>
        <div class="div_campos">
            <div class="div_username">
                <h3 class="username_email">Usuario / Correo</h3>
                <input placeholder="" type="text" class="placeholder_1" id="lg_email" />
            </div>
            <div class="div_password">
                <div class="div_pas">
                    <h3 class="pw">Contrase帽a</h3>
                    <h3 class="pw2">驴La olvidaste?</h3>
                </div>
                <Input placeholder="" type="password" class="placeholder_2" id="lg_ps" />
            </div>
        </div>
        <button type="button" class="btn" onclick="closePopup()" id="button_sing">Iniciar Sesi贸n</button>

        <!-- separador -->
        <div class="box_separador">
            <div class="s1"></div>
            <div class="tx_separador">Contin煤a con</div>
            <div class="s2"></div>
        </div>
        <!-- fin separador -->

        <!-- botones google y facebook -->
        <div class="botones_login">
            <button class="google">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect width="24" height="24" fill="white" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M23.04 12.2615C23.04 11.446 22.9668 10.6619 22.8309 9.90918H12V14.3576H18.1891C17.9225 15.7951 17.1123 17.013 15.8943 17.8285V20.714H19.6109C21.7855 18.7119 23.04 15.7637 23.04 12.2615Z"
                        fill="#4285F4" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12 23.5001C15.105 23.5001 17.7081 22.4703 19.6109 20.7139L15.8943 17.8285C14.8645 18.5185 13.5472 18.9262 12 18.9262C9.00474 18.9262 6.46951 16.9032 5.56519 14.1851H1.72314V17.1646C3.61542 20.923 7.50451 23.5001 12 23.5001Z"
                        fill="#34A853" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M5.56523 14.185C5.33523 13.495 5.20455 12.7579 5.20455 12C5.20455 11.242 5.33523 10.505 5.56523 9.81499V6.83545H1.72318C0.944318 8.38795 0.5 10.1443 0.5 12C0.5 13.8557 0.944318 15.612 1.72318 17.1645L5.56523 14.185Z"
                        fill="#FBBC05" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12 5.07386C13.6884 5.07386 15.2043 5.65409 16.3961 6.79364L19.6945 3.49523C17.7029 1.63955 15.0997 0.5 12 0.5C7.50451 0.5 3.61542 3.07705 1.72314 6.83545L5.56519 9.815C6.46951 7.09682 9.00474 5.07386 12 5.07386Z"
                        fill="#EA4335" />
                </svg>
                Google
            </button>
            <button class="facebook">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                    <rect width="24" height="24" transform="translate(0 0.5)" fill="#1877F2" />
                    <path
                        d="M23.5 12.5699C23.5 6.2186 18.3513 1.06988 12 1.06988C5.64872 1.06988 0.5 6.2186 0.5 12.5699C0.5 18.3099 4.70538 23.0674 10.2031 23.9302V15.8941H7.2832V12.5699H10.2031V10.0363C10.2031 7.1541 11.92 5.56207 14.5468 5.56207C15.805 5.56207 17.1211 5.78668 17.1211 5.78668V8.61675H15.671C14.2424 8.61675 13.7969 9.50322 13.7969 10.4127V12.5699H16.9863L16.4765 15.8941H13.7969V23.9302C19.2946 23.0674 23.5 18.3099 23.5 12.5699Z"
                        fill="white" />
                </svg>
                Facebook
            </button>
        </div>
    </div>
    <!-- Poopup -->

    <footer>
        <div class="footer-container">
            <div class="footer-column">
                <a href="#" class="footer-logo">Kopi</a>
                <p>Tu rinc贸n favorito para disfrutar del mejor caf茅, postres artesanales y un ambiente acogedor. 隆Te
                    esperamos!</p>
            </div>

            <div class="footer-column">
                <h4>Men煤</h4>
                <ul>
                    <li><a href="pages/menu.html">Caf茅s Calientes</a></li>
                    <li><a href="pages/menu.html">Bebidas Fr铆as</a></li>
                    <li><a href="pages/menu.html">Postres</a></li>
                    <li><a href="pages/menu.html">Bocadillos</a></li>
                    <li><a href="pages/menu.html">Promociones</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h4>Kopi</h4>
                <ul>
                    <li><a href="#">Nuestra Historia</a></li>
                    <li><a href="#">Sucursales</a></li>
                    <li><a href="#">Trabaja con Nosotros</a></li>
                    <li><a href="#">Contacto</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h4>S铆guenos</h4>
                <p>Ent茅rate de nuestras novedades y promociones en redes sociales.</p>
                <div class="social-icons">
                    <a href="#" class="social-icon" aria-label="Facebook">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path
                                d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V320H134.4V256h59.8V206.1c0-58.7 35.9-91.1 88.8-91.1 25.3 0 47 1.9 53.3 2.7v55.1h-32.9c-28.5 0-34 13.5-34 33.4V256h61.6l-8 64H269.4V504.5C381.3 476.8 464 376 464 256h48z" />
                        </svg>
                    </a>
                    <a href="#" class="social-icon" aria-label="Instagram">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                            <path
                                d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9 26.3 26.2 58 34.4 93.9 36.2 37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z" />
                        </svg>
                    </a>
                    <a href="#" class="social-icon" aria-label="Twitter">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path
                                d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Kopi Cafeter铆a. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- User Menu Dropdown -->
    <div class="user-menu-overlay" id="userMenuOverlay" onclick="closeUserMenu()"></div>
    <div class="user-menu-dropdown" id="userMenuDropdown">
        <div class="user-menu-header">
            <div class="user-avatar">
                <img src="../assets/img/user_testimonials/user1.png" alt="" class="foto-user">
            </div>
            <div class="user-info">
                <h3 id="userMenuName">Usuario</h3>
                <p>Miembro desde 2024</p>
            </div>
            <span class="material-symbols-outlined close-user-menu" onclick="closeUserMenu()">close</span>
        </div>

        <div class="user-menu-items">
            <a href="usermenu.html" class="user-menu-item">
                <span class="material-symbols-outlined">person</span>
                Mi Perfil
            </a>

            <a href="pedidos.html" class="user-menu-item">
                <span class="material-symbols-outlined">shopping_bag</span>
                Mis Pedidos
            </a>

            <a href="rewards.html" class="user-menu-item">
                <span class="material-symbols-outlined">star</span>
                Mis Recompensas
            </a>

            <a href="favorites.html" class="user-menu-item">
                <span class="material-symbols-outlined">favorite</span>
                Favoritos
            </a>

            <div class="user-menu-separator"></div>

            <a href="settings.html" class="user-menu-item">
                <span class="material-symbols-outlined">settings</span>
                Configuraci贸n
            </a>

            <a href="#" class="user-menu-item logout" onclick="cerrarSesion()">
                <span class="material-symbols-outlined">logout</span>
                Cerrar Sesi贸n
            </a>
        </div>
    </div>
    <div id="errorPopup" class="error-popup">
        <div class="error-popup-content">
            <span id="closePopup" class="close-popup">&times;</span>
            <p id="popupMessage"></p>
        </div>
    </div>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=MXN"></script>
    <script
        src="https://www.paypal.com/sdk/js?client-id=AQgX9tKpLfd4nhy_aBhwba0Iypx0U5wrS900gzWRWfeoYrhVPiD_Tip3eDYFNFmphPZTtF3g8KR5hQEy"></script>

</body>

<script src="../assets/js/buy_script.js"></script>


<!-- PRIMERO: sesion.js para navbar y toasts -->
<script src="../assets/js/sesion.js"></script>

<!-- SEGUNDO: login_script.js para que funcione el login -->
<script src="../assets/js/login_script.js"></script>

<!-- TERCERO: carrito_script.js -->
<script src="../assets/js/carrito_script.js"></script>

<!-- PARA LO DE LAS DIRECCIONES GG-->
<script src="../assets/js/address_script.js"></script>
<script src="../assets/js/buy_products_script.js"></script>
<script>
    document.querySelector('.paypal-button').addEventListener('click', () => {
        window.location.href = 'paypal.html';  // Aseg煤rate que el archivo exista y ruta sea correcta
    });
</script>
<script>
    document.getElementById("applePayBtn").addEventListener("click", function (event) {
        event.preventDefault(); // Evita comportamiento por defecto
        event.stopPropagation(); // Evita que el clic se propague a otros botones
        window.open("https://buy.stripe.com/test_5kA6oG2sc5sCaiY288", "_blank");
    });
</script>
<script src="../assets/js/carrito_script.js"></script>
<script src="../assets/js/menu_script.js"></script>
<script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=MXN"></script>
<script
    src="https://www.paypal.com/sdk/js?client-id=AQgX9tKpLfd4nhy_aBhwba0Iypx0U5wrS900gzWRWfeoYrhVPiD_Tip3eDYFNFmphPZTtF3g8KR5hQEy"></script>


</body>

</html>